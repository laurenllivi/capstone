{% extends 'capstone/auth_base.html' %}
{% load staticfiles %}

{% block stylesheets %}
    <script src="{% static 'js/tabcontent.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/manage_venue.js' %}" type="text/javascript"></script>  
    <script src="{% static 'js/google-autocomplete.js' %}"></script>     

    <link href="{% static 'css/tabcontent.css' %}" rel="stylesheet" type="text/css" />
{% endblock %}

{% block content %}
<section id="main" class="wrapper">
    <div class="container">

        <form method="POST" enctype="multipart/form-data">
            <div>
                <ul class="tabs" data-persist="true">
                    <li><a id="view1-link" class="tab-link" href="#view1">General</a></li>
                    <li><a id="view2-link" class="tab-link" href="#view2">Features</a></li>
                    <li><a id="view3-link" class="tab-link" href="#view3">Location</a></li>
                    <li><a id="view4-link" class="tab-link" href="#view4">Photos</a></li>
                    <li><a id="view5-link" class="tab-link" href="#view5">Pricing</a></li>
                    <li><a id="view6-link" class="tab-link" href="#view6" onclick="viewVenueCalendar({{ listing.id }});">Availability</a></li>
                </ul>
                    <div class="tabcontents">
                        <div class="tab" id="view1">
                            <button class="next-tab-button" onclick="nextTab()">Next <i class="fa fa-arrow-right"></i></button>
                            <div {% if form.title.errors %}class="field_error"{% endif %}>
                                <strong>Venue Title</strong>
                                {{ form.title }}
                                {{ form.title.errors }}
                            </div>
                            <div {% if form.category.errors %}class="field_error"{% endif %}>
                                <strong>Venue Type</strong>
                                {{ form.category }}
                                {{ form.category.errors }}
                            </div>
                            <div class="input-number {% if form.sq_footage.errors %}field_error{% endif %}">
                                <strong>Square Footage of Space Available to Guests</strong>
                                {{ form.sq_footage }}
                                {{ form.sq_footage.errors }}
                            </div>
                            <div class="input-number {% if form.num_guests.errors %}field_error{% endif %}">
                                <strong>Number of Guests that Can be Accommodated</strong>
                                {{ form.num_guests }}
                                {{ form.num_guests.errors }}
                            </div>

                        </div>
                        <div class="tab" id="view2">
                            <button class="next-tab-button" onclick="nextTab()">Next <i class="fa fa-arrow-right"></i></button>
                            <div {% if form.description.errors %}class="field_error"{% endif %}>
                                <strong>Description</strong>
                                {{ form.description }}
                                {{ form.description.errors }}
                            </div>

                            <div {% if form.parking_desc.errors %}class="field_error"{% endif %}>
                                <strong>Description of Parking Facilities and/or Availability</strong>
                                {{ form.parking_desc }}
                                {{ form.parking_desc.errors }}
                            </div>

                            <strong>Features</strong>
                            <br/>
                            {% for key, value in form.features.field.choices %}
                                <input type="checkbox" id="id_feature_{{ key }}" value="{{key}}" name="features">
                                <label for="id_feature_{{ key }}">
                                    {{ value }}
                                </label>
                            {% endfor %}  
                            
                            <!--{{ form.features }}-->
                        </div>
                        <div class="tab" id="view3">
                            <button class="next-tab-button" onclick="nextTab()">Next <i class="fa fa-arrow-right"></i></button>
                            <h3>Address of Venue</h3>
                            Guests will not have access to your address until you have shared it with them.<br><br>
                            
                            <div id="locationField">
                                {{ form.search_address }}
                            </div>
                            
                            <hr class="hr-style">
        
                            <div {% if form.street.errors %}class="field_error"{% endif %}>
                                <strong>Street</strong>
                                {{ form.street }}
                                {{ form.street.errors }}
                            </div>
                            <div {% if form.street2.errors %}class="field_error"{% endif %}>
                                <strong>Street 2</strong>
                                {{ form.street2 }}
                                {{ form.street2.errors }}
                            </div>
                            <div {% if form.city.errors %}class="field_error"{% endif %}>
                                <strong>City</strong>
                                {{ form.city }}
                                {{ form.city.errors }}
                            </div>
                            <div class="6u 12u$(small) {% if form.state.errors %}field_error{% endif %}">
                                <strong>State</strong>
                                {{ form.state }}
                                {{ form.state.errors }}
                            </div>
                            <div class="6u 12u$(small) {% if form.zipcode.errors %}field_error{% endif %}">
                                 <strong>Zip</strong>
                                {{ form.zipcode }}
                                {{ form.zipcode.errors }}
                            </div>
                        </div>

                        <div class="tab" id="view4">
                            <button class="next-tab-button" onclick="nextTab()">Next <i class="fa fa-arrow-right"></i></button>
                            <div {% if form.image_title.errors %}class="field_error"{% endif %}>
                                 <strong>Image Title</strong>
                                {{ imageForm.image_title }}
                            </div>

                            {{ imageForm.image }}
                            <br><br>
                            <input type="submit" class="small" name="imagesForm" value="Upload Photo">
                            
                            <br><br>
                            
                            {% if images %}
                                <ul>
                                {% for image in images %}
                                    <div class="ven-img-thumbnail hover-delete">
                                        <a href="/venue/manage_venue__del_img/{{ listing.id }}/{{ image.id }}" style="color: #272727;" class="delete-venue-image"><i class="fa fa-times fa-2x hide-x-until-hover"></i></a>
                                        <img src='{% static "images/venue-images/" %}{{ listing.id }}/{{image.image_name}}' alt="" />
                                    </div>
                                {% endfor %}
                                </ul>
                            {% else %}
                                    <p>No Images</p>
                            {% endif %}
                        </div>

                        <div class="tab" id="view5">
                             <button class="next-tab-button" onclick="nextTab(); viewVenueCalendar({{ listing.id }});">Next <i class="fa fa-arrow-right"></i></button>
                            <div class="input-number {% if form.price_per_hour.errors %}field_error{% endif %}">
                                <strong>Weekday Price Per Hour (M-Th)</strong>
                                <br/>
                                ${{ form.price_per_hour }}
                                {{ form.price_per_hour.errors }}
                            </div>
                             <div class="input-number {% if form.price_per_hour_weekend.errors %}field_error{% endif %}">
                                <strong>Weekend Price Per Hour (F-Su)</strong>
                                <br/>
                                ${{ form.price_per_hour_weekend }}
                                {{ form.price_per_hour_weekend.errors }}
                            </div>
                        </div>
                        
                        <div class="tab" id="view6">
                            <div class="calendar-ajax-content">
                             
                            </div>
                        </div>

                    </div>
                <br>
                <input type="submit" name="mainForm" value="Save">
            </div>
         </form>
    </div>
</section>

{% endblock %}

{% block footer %}
    {% include "partials/_footer.html" %}
{% endblock %}